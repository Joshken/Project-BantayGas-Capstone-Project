<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>BANTAYGAS - Sensor Management</title>
	<link rel="stylesheet" href="../CSS/sensors.css">
</head>
<body>
	<div class="layout">
		<aside class="sidebar">
			<div class="profile">
				<div class="avatar"></div>
				<div class="profile-info">
					<div class="name">Josh Baguio</div>
					<div class="role">Admin</div>
					<a class="view-profile" href="#">View Profile Info</a>
				</div>
			</div>

			<nav class="nav">
				<a class="nav-item" href="#">
					<span class="icon">üîç</span>
					<span>Monitoring</span>
				</a>
				<a class="nav-item active" href="#">
					<span class="icon">üì°</span>
					<span>Sensors</span>
				</a>
				<a class="nav-item" href="#">
					<span class="icon">‚ö†Ô∏è</span>
					<span>Alert Section</span>
				</a>
				<a class="nav-item" href="#">
					<span class="icon">üë•</span>
					<span>Staff Management</span>
				</a>
				<a class="nav-item" href="#">
					<span class="icon">‚öôÔ∏è</span>
					<span>Settings</span>
				</a>
			</nav>

			<button class="logout-btn">Logout</button>
		</aside>

		<main class="content">
			<header class="page-header">
				<div class="header-left">
					<h1>Sensor Management</h1>
				</div>
				<div class="header-right">
					<select class="gas-type-filter">
						<option value="">Gas Type</option>
						<option value="mq-7">MQ-7</option>
						<option value="mq-2">MQ-2</option>
						<option value="mq-4">MQ-4</option>
					</select>
					<a href="add_floorplan.html" class="btn btn-secondary">
						<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
							<path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
							<polyline points="7,10 12,15 17,10"/>
							<line x1="12" y1="15" x2="12" y2="3"/>
						</svg>
						Upload a floorplan
					</a>
					<a href="add_sensor.html" class="btn btn-primary">
						<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
							<line x1="12" y1="5" x2="12" y2="19"/>
							<line x1="5" y1="12" x2="19" y2="12"/>
						</svg>
						+ Add Sensor
					</a>
				</div>
			</header>

			<section class="sensor-grid">
				<!-- Sensor Card 1 -->
				<div class="sensor-card">
					<div class="sensor-header">
						<h3 class="sensor-name">Sensor_001</h3>
						<div class="sensor-type">MQ-7</div>
					</div>
					<div class="sensor-details">
						<div class="detail-row">
							<label>Assigned Zone:</label>
							<span>Boiler Room</span>
						</div>
						<div class="detail-row">
							<label>Threshold (ppm):</label>
							<input type="number" value="70" min="0" max="1000" class="threshold-input">
						</div>
						<div class="detail-row">
							<label>Status:</label>
							<button class="status-btn online">Online</button>
						</div>
					</div>
					<div class="sensor-actions">
						<button class="action-btn" title="Edit Sensor">
							<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
								<path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/>
								<path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/>
							</svg>
						</button>
						<button class="action-btn" title="Delete Sensor">
							<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
								<polyline points="3,6 5,6 21,6"/>
								<path d="M19,6v14a2,2 0 0,1 -2,2H7a2,2 0 0,1 -2,-2V6m3,0V4a2,2 0 0,1 2,-2h4a2,2 0 0,1 2,2v2"/>
							</svg>
						</button>
					</div>
				</div>

				<!-- Sensor Card 2 -->
				<div class="sensor-card">
					<div class="sensor-header">
						<h3 class="sensor-name">Sensor_002</h3>
						<div class="sensor-type">MQ-7</div>
					</div>
					<div class="sensor-details">
						<div class="detail-row">
							<label>Assigned Zone:</label>
							<span>Boiler Room</span>
						</div>
						<div class="detail-row">
							<label>Threshold (ppm):</label>
							<input type="number" value="70" min="0" max="1000" class="threshold-input">
						</div>
						<div class="detail-row">
							<label>Status:</label>
							<button class="status-btn online">Online</button>
						</div>
					</div>
					<div class="sensor-actions">
						<button class="action-btn" title="Edit Sensor">
							<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
								<path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/>
								<path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/>
							</svg>
						</button>
						<button class="action-btn" title="Delete Sensor">
							<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
								<polyline points="3,6 5,6 21,6"/>
								<path d="M19,6v14a2,2 0 0,1 -2,2H7a2,2 0 0,1 -2,-2V6m3,0V4a2,2 0 0,1 2,-2h4a2,2 0 0,1 2,2v2"/>
							</svg>
						</button>
					</div>
				</div>

				<!-- Sensor Card 3 -->
				<div class="sensor-card">
					<div class="sensor-header">
						<h3 class="sensor-name">Sensor_003</h3>
						<div class="sensor-type">MQ-7</div>
					</div>
					<div class="sensor-details">
						<div class="detail-row">
							<label>Assigned Zone:</label>
							<span>Boiler Room</span>
						</div>
						<div class="detail-row">
							<label>Threshold (ppm):</label>
							<input type="number" value="70" min="0" max="1000" class="threshold-input">
						</div>
						<div class="detail-row">
							<label>Status:</label>
							<button class="status-btn online">Online</button>
						</div>
					</div>
					<div class="sensor-actions">
						<button class="action-btn" title="Edit Sensor">
							<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
								<path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/>
								<path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/>
							</svg>
						</button>
						<button class="action-btn" title="Delete Sensor">
							<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
								<polyline points="3,6 5,6 21,6"/>
								<path d="M19,6v14a2,2 0 0,1 -2,2H7a2,2 0 0,1 -2,-2V6m3,0V4a2,2 0 0,1 2,-2h4a2,2 0 0,1 2,2v2"/>
							</svg>
						</button>
					</div>
				</div>

				<!-- Sensor Card 4 -->
				<div class="sensor-card">
					<div class="sensor-header">
						<h3 class="sensor-name">Sensor_004</h3>
						<div class="sensor-type">MQ-2</div>
					</div>
					<div class="sensor-details">
						<div class="detail-row">
							<label>Assigned Zone:</label>
							<span>Storage Area</span>
						</div>
						<div class="detail-row">
							<label>Threshold (ppm):</label>
							<input type="number" value="150" min="0" max="1000" class="threshold-input">
						</div>
						<div class="detail-row">
							<label>Status:</label>
							<button class="status-btn offline">Offline</button>
						</div>
					</div>
					<div class="sensor-actions">
						<button class="action-btn" title="Edit Sensor">
							<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
								<path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/>
								<path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/>
							</svg>
						</button>
						<button class="action-btn" title="Delete Sensor">
							<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
								<polyline points="3,6 5,6 21,6"/>
								<path d="M19,6v14a2,2 0 0,1 -2,2H7a2,2 0 0,1 -2,-2V6m3,0V4a2,2 0 0,1 2,-2h4a2,2 0 0,1 2,2v2"/>
							</svg>
						</button>
					</div>
				</div>

				<!-- Sensor Card 5 -->
				<div class="sensor-card">
					<div class="sensor-header">
						<h3 class="sensor-name">Sensor_005</h3>
						<div class="sensor-type">MQ-2</div>
					</div>
					<div class="sensor-details">
						<div class="detail-row">
							<label>Assigned Zone:</label>
							<span>Storage Area</span>
						</div>
						<div class="detail-row">
							<label>Threshold (ppm):</label>
							<input type="number" value="150" min="0" max="1000" class="threshold-input">
						</div>
						<div class="detail-row">
							<label>Status:</label>
							<button class="status-btn offline">Offline</button>
						</div>
					</div>
					<div class="sensor-actions">
						<button class="action-btn" title="Edit Sensor">
							<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
								<path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/>
								<path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/>
							</svg>
						</button>
						<button class="action-btn" title="Delete Sensor">
							<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
								<polyline points="3,6 5,6 21,6"/>
								<path d="M19,6v14a2,2 0 0,1 -2,2H7a2,2 0 0,1 -2,-2V6m3,0V4a2,2 0 0,1 2,-2h4a2,2 0 0,1 2,2v2"/>
							</svg>
						</button>
					</div>
				</div>

				<!-- Sensor Card 6 -->
				<div class="sensor-card">
					<div class="sensor-header">
						<h3 class="sensor-name">Sensor_006</h3>
						<div class="sensor-type">MQ-2</div>
					</div>
					<div class="sensor-details">
						<div class="detail-row">
							<label>Assigned Zone:</label>
							<span>Storage Area</span>
						</div>
						<div class="detail-row">
							<label>Threshold (ppm):</label>
							<input type="number" value="150" min="0" max="1000" class="threshold-input">
						</div>
						<div class="detail-row">
							<label>Status:</label>
							<button class="status-btn offline">Offline</button>
						</div>
					</div>
					<div class="sensor-actions">
						<button class="action-btn" title="Edit Sensor">
							<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
								<path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/>
								<path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/>
							</svg>
						</button>
						<button class="action-btn" title="Delete Sensor">
							<svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
								<polyline points="3,6 5,6 21,6"/>
								<path d="M19,6v14a2,2 0 0,1 -2,2H7a2,2 0 0,1 -2,-2V6m3,0V4a2,2 0 0,1 2,-2h4a2,2 0 0,1 2,2v2"/>
							</svg>
						</button>
					</div>
				</div>
			</section>
		</main>
	</div>

	<!-- Add Sensor Modal -->
	<div class="modal" id="modal-add-sensor" aria-hidden="true">
		<div class="modal-dialog">
			<h2 class="modal-title">Add New Sensor</h2>
			<form class="sensor-form">
				<div class="form-group">
					<label for="sensor-name">Sensor Name:</label>
					<input type="text" id="sensor-name" placeholder="e.g., Sensor_007" required>
				</div>
				<div class="form-group">
					<label for="sensor-type">Sensor Type:</label>
					<select id="sensor-type" required>
						<option value="">Select Type</option>
						<option value="MQ-7">MQ-7</option>
						<option value="MQ-2">MQ-2</option>
						<option value="MQ-4">MQ-4</option>
					</select>
				</div>
				<div class="form-group">
					<label for="assigned-zone">Assigned Zone:</label>
					<input type="text" id="assigned-zone" placeholder="e.g., Kitchen Area" required>
				</div>
				<div class="form-group">
					<label for="threshold">Threshold (ppm):</label>
					<input type="number" id="threshold" min="0" max="1000" placeholder="e.g., 70" required>
				</div>
			</form>
			<div class="modal-actions">
				<button class="btn btn-primary" data-close>Add Sensor</button>
				<button class="btn btn-secondary" data-close>Cancel</button>
			</div>
		</div>
	</div>

	<!-- Edit Sensor Modal -->
	<div class="modal" id="modal-edit-sensor" aria-hidden="true">
		<div class="modal-dialog">
			<h2 class="modal-title">Edit Sensor</h2>
			<form class="sensor-form">
				<div class="form-group">
					<label for="edit-sensor-name">Sensor Name:</label>
					<input type="text" id="edit-sensor-name" placeholder="e.g., Sensor_001" required>
				</div>
				<div class="form-group">
					<label for="edit-sensor-type">Sensor Type:</label>
					<select id="edit-sensor-type" required>
						<option value="">Select Type</option>
						<option value="MQ-7">MQ-7</option>
						<option value="MQ-2">MQ-2</option>
						<option value="MQ-4">MQ-4</option>
					</select>
				</div>
				<div class="form-group">
					<label for="edit-assigned-zone">Assigned Zone:</label>
					<input type="text" id="edit-assigned-zone" placeholder="e.g., Boiler Room" required>
				</div>
				<div class="form-group">
					<label for="edit-threshold">Threshold (ppm):</label>
					<input type="number" id="edit-threshold" min="0" max="1000" placeholder="e.g., 70" required>
				</div>
			</form>
			<div class="modal-actions">
				<button class="btn btn-primary" data-close>Save Changes</button>
				<button class="btn btn-secondary" data-close>Cancel</button>
			</div>
		</div>
	</div>

	<!-- Delete Confirmation Modal -->
	<div class="modal" id="modal-delete-sensor" aria-hidden="true">
		<div class="modal-dialog">
			<h2 class="modal-title">Delete Sensor</h2>
			<p class="modal-message">Are you sure you want to delete <span id="delete-sensor-name">Sensor_001</span>? This action cannot be undone.</p>
			<div class="modal-actions">
				<button class="btn btn-danger" data-close>Delete</button>
				<button class="btn btn-secondary" data-close>Cancel</button>
			</div>
		</div>
	</div>

	<script>
		// Modal helpers
		function openModal(id) {
			document.getElementById(id).classList.add('open');
			document.getElementById(id).setAttribute('aria-hidden', 'false');
		}
		
		function closeModal(el) {
			const modal = el.closest('.modal');
			modal.classList.remove('open');
			modal.setAttribute('aria-hidden', 'true');
		}

		// Add Sensor button
		document.querySelector('.btn-primary').addEventListener('click', function() {
			openModal('modal-add-sensor');
		});

		// Edit Sensor buttons
		document.querySelectorAll('.action-btn[title="Edit Sensor"]').forEach(btn => {
			btn.addEventListener('click', function() {
				const card = this.closest('.sensor-card');
				const sensorName = card.querySelector('.sensor-name').textContent;
				const sensorType = card.querySelector('.sensor-type').textContent;
				const assignedZone = card.querySelector('.detail-row:nth-child(1) span').textContent;
				const threshold = card.querySelector('.threshold-input').value;

				// Populate edit form
				document.getElementById('edit-sensor-name').value = sensorName;
				document.getElementById('edit-sensor-type').value = sensorType;
				document.getElementById('edit-assigned-zone').value = assignedZone;
				document.getElementById('edit-threshold').value = threshold;

				openModal('modal-edit-sensor');
			});
		});

		// Delete Sensor buttons
		document.querySelectorAll('.action-btn[title="Delete Sensor"]').forEach(btn => {
			btn.addEventListener('click', function() {
				const card = this.closest('.sensor-card');
				const sensorName = card.querySelector('.sensor-name').textContent;
				
				document.getElementById('delete-sensor-name').textContent = sensorName;
				openModal('modal-delete-sensor');
			});
		});

		// Close modals
		document.addEventListener('click', function(e) {
			if (e.target.matches('[data-close]')) {
				closeModal(e.target);
			}
			if (e.target.classList.contains('modal')) {
				e.target.classList.remove('open');
				e.target.setAttribute('aria-hidden', 'true');
			}
		});

		// Gas type filter
		document.querySelector('.gas-type-filter').addEventListener('change', function() {
			const selectedType = this.value;
			const cards = document.querySelectorAll('.sensor-card');
			
			cards.forEach(card => {
				const sensorType = card.querySelector('.sensor-type').textContent;
				if (selectedType === '' || sensorType.toLowerCase() === selectedType.toLowerCase()) {
					card.style.display = 'block';
				} else {
					card.style.display = 'none';
				}
			});
		});
	</script>
</body>
</html>
